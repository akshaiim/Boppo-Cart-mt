(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,function(t,e,n){"use strict";var a=n(1),c=n.n(a).a.createContext({items:[],totalAMount:0,addItem:function(t){},removeItem:function(t){}});e.a=c},,function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__2u4JS",summary:"CartItem_summary__gcjx4",price:"CartItem_price__2qWHD",amount:"CartItem_amount__2n0Ec",actions:"CartItem_actions__36HEF"}},,function(t,e,n){t.exports={button:"Button_button__1EsHN",icon:"Button_icon__3WTIB",badge:"Button_badge__GGZrW"}},function(t,e,n){t.exports={"cart-items":"Cart_cart-items__2RLMU",total:"Cart_total__cUIC0",actions:"Cart_actions__Q-Bd7","button--alt":"Cart_button--alt__382n2",button:"Cart_button__1hvH1"}},,,,,function(t,e,n){t.exports={backdrop:"Modal_backdrop__2hoZ6",modal:"Modal_modal__1PLhA","slide-down":"Modal_slide-down__2DOh_"}},,function(t,e,n){t.exports={header:"Header_header__22S0F"}},,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var a=n(9),c=n.n(a),o=(n(19),n(8)),r=n(1),i=n.n(r),s=n(6),l=n.n(s),u=n(0),d=function(){return Object(u.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(u.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},m=n(2);function j(t){var e=i.a.useContext(m.a);console.log("here ".concat(e.items));var n=e.items.reduce((function(t,e){return t+e.amount}),0);return Object(u.jsxs)("button",{className:l.a.button,onClick:t.onhandleCartOpenClick,children:[Object(u.jsx)("span",{className:l.a.icon,children:Object(u.jsx)(d,{})}),Object(u.jsx)("span",{children:"cart"}),Object(u.jsx)("span",{className:l.a.badge,children:n}),Object(u.jsxs)("span",{className:l.a.badge,children:["$",e.totalAmount.toFixed(2)]})]})}var b=n(14),h=n.n(b),O=function(t){console.log(t);var e=i.a.useContext(m.a);return console.log(e),Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("header",{className:h.a.header,children:[Object(u.jsx)("h1",{children:"React Cart"}),Object(u.jsx)(j,{onhandleCartOpenClick:t.handleCartOpenClick})]})})},x=n(13),C=n(3),_={items:[],totalAmount:0},p=function(t,e){if("ADD"===e.type){var n,a=t.totalAmount+e.item.price*e.item.amount,c=t.items.findIndex((function(t){return t.id===e.item.id})),o=t.items[c];if(o){var r=Object(C.a)(Object(C.a)({},o),{},{amount:o.amount+e.item.amount});(n=Object(x.a)(t.items))[c]=r}else n=t.items.concat(e.item);return{items:n,totalAmount:a}}if("REMOVE"===e.type){var i,s=t.items.findIndex((function(t){return t.id===e.id})),l=t.items[s],u=t.totalAmount-l.price;if(1===l.amount)i=t.items.filter((function(t){return t.id!==e.id}));else{var d=Object(C.a)(Object(C.a)({},l),{},{amount:l.amount-1});(i=Object(x.a)(t.items))[s]=d}return{items:i,totalAmount:u}}return _},f=function(t){var e=Object(r.useReducer)(p,_),n=Object(o.a)(e,2),a=n[0],c=n[1],i={items:a.items,totalAmount:a.totalAmount,addItem:function(t){c({type:"ADD",item:t})},removeItem:function(t){c({type:"REMOVE",id:t})}};return Object(u.jsx)(m.a.Provider,{value:i,children:t.children})},v=n(4),g=n.n(v),k=function(t){var e="$".concat(t.price.toFixed(2));return console.log(t),Object(u.jsxs)("li",{className:g.a["cart-item"],children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:t.name}),Object(u.jsxs)("div",{className:g.a.summary,children:[Object(u.jsx)("span",{className:g.a.price,children:e}),Object(u.jsxs)("span",{className:g.a.amount,children:["x ",t.amount]})]})]}),Object(u.jsxs)("div",{className:g.a.actions,children:[Object(u.jsx)("button",{onClick:t.onRemove,children:"\u2212"}),Object(u.jsx)("button",{onClick:t.onAdd,children:"+"})]})]})},A=n(7),I=n.n(A),N=n(12),w=n.n(N);var y=function(t){return Object(u.jsx)(u.Fragment,{children:t.isCartOpen&&c.a.createPortal(Object(u.jsx)("div",{className:w.a.backdrop,onClick:t.onhandleCartCloseClick,children:Object(u.jsx)("div",{className:w.a.modal,children:t.children})}),document.getElementById("modal"))})},M=function(t){var e=Object(r.useContext)(m.a);console.log("$".concat(e.totalAMount," is here"));var n=e.items.length>0,a=function(t){e.addItem(Object(C.a)(Object(C.a)({},t),{},{amount:1}))},c=function(t){e.removeItem(t)},o=Object(u.jsx)("ul",{className:I.a["cart-items"],children:e.items.map((function(t){return Object(u.jsx)(k,{price:t.price,name:t.name,amount:t.amount,onAdd:a.bind(null,t),onRemove:c.bind(null,t.id)},t.id)}))});return Object(u.jsxs)(y,{onhandleCartCloseClick:t.handleCartCloseClick,isCartOpen:t.cartOpen,children:[o,!n&&Object(u.jsx)("h4",{children:"Your Cart is Empty"}),Object(u.jsxs)("div",{className:I.a.actions,children:[Object(u.jsx)("button",{onClick:t.handleCartCloseClick,className:I.a["button--alt"],children:"Close"}),n&&Object(u.jsx)("button",{className:I.a.button,children:"Order"})]})]})},E=i.a.lazy((function(){return new Promise((function(t){setTimeout((function(){return t(n.e(3).then(n.bind(null,27)))}),3e3)}))}));var H=function(){var t=i.a.useState(!1),e=Object(o.a)(t,2),n=e[0],a=e[1],c=function(){a(!0)};return Object(u.jsxs)(f,{children:[Object(u.jsx)(O,{handleCartOpenClick:c}),Object(u.jsx)(i.a.Suspense,{fallback:Object(u.jsxs)("h1",{children:[Object(u.jsx)("br",{}),"plz wait products are loading!"]}),children:Object(u.jsx)(E,{})}),Object(u.jsx)(M,{cartOpen:n,handleCartOpenClick:c,handleCartCloseClick:function(){a(!1)}})]})};c.a.render(Object(u.jsx)(H,{}),document.getElementById("root"))}],[[21,1,2]]]);
//# sourceMappingURL=main.2b73cd77.chunk.js.map