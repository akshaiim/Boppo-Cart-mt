(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,,function(t,e,n){t.exports={"cart-item":"CartItem_cart-item__2u4JS",summary:"CartItem_summary__gcjx4",price:"CartItem_price__2qWHD",amount:"CartItem_amount__2n0Ec",actions:"CartItem_actions__36HEF"}},,function(t,e,n){t.exports={button:"Button_button__1EsHN",icon:"Button_icon__3WTIB",badge:"Button_badge__GGZrW"}},function(t,e,n){t.exports={"cart-items":"Cart_cart-items__2RLMU",total:"Cart_total__cUIC0",actions:"Cart_actions__Q-Bd7","button--alt":"Cart_button--alt__382n2",button:"Cart_button__1hvH1"}},function(t,e,n){t.exports={product:"ProductItem_product__3xQHh",description:"ProductItem_description__1Y2hx",price:"ProductItem_price__3Z74J",image:"ProductItem_image__28XUk"}},,,,function(t,e,n){t.exports={backdrop:"Modal_backdrop__2hoZ6",modal:"Modal_modal__1PLhA","slide-down":"Modal_slide-down__2DOh_"}},,function(t,e,n){t.exports={header:"Header_header__22S0F"}},function(t,e,n){t.exports={form:"ProductItemForm_form__6EVHi"}},function(t,e,n){t.exports={input:"Input_input__3gTSF"}},function(t,e,n){t.exports={card:"Card_card__2nKG4"}},function(t,e,n){t.exports={productbox:"Products_productbox__1Si2M"}},,,,,function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var c=n(9),a=n.n(c),r=(n(23),n(3)),o=n(1),i=n.n(o),s=n(6),l=n.n(s),d=n(0),u=function(){return Object(d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:Object(d.jsx)("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})},m=i.a.createContext({items:[],totalAMount:0,addItem:function(t){},removeItem:function(t){}});function j(t){var e=i.a.useContext(m);console.log("here ".concat(e.items));var n=e.items.reduce((function(t,e){return t+e.amount}),0);return Object(d.jsxs)("button",{className:l.a.button,onClick:t.onhandleCartOpenClick,children:[Object(d.jsx)("span",{className:l.a.icon,children:Object(d.jsx)(u,{})}),Object(d.jsx)("span",{children:"cart"}),Object(d.jsx)("span",{className:l.a.badge,children:n}),Object(d.jsxs)("span",{className:l.a.badge,children:["$",e.totalAmount.toFixed(2)]})]})}var b=n(14),p=n.n(b),h=function(t){console.log(t);var e=i.a.useContext(m);return console.log(e),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("header",{className:p.a.header,children:[Object(d.jsx)("h1",{children:"React Cart"}),Object(d.jsx)(j,{onhandleCartOpenClick:t.handleCartOpenClick})]})})},O=n(13),x=n(2),_={items:[],totalAmount:0},f=function(t,e){if("ADD"===e.type){var n,c=t.totalAmount+e.item.price*e.item.amount,a=t.items.findIndex((function(t){return t.id===e.item.id})),r=t.items[a];if(r){var o=Object(x.a)(Object(x.a)({},r),{},{amount:r.amount+e.item.amount});(n=Object(O.a)(t.items))[a]=o}else n=t.items.concat(e.item);return{items:n,totalAmount:c}}if("REMOVE"===e.type){var i,s=t.items.findIndex((function(t){return t.id===e.id})),l=t.items[s],d=t.totalAmount-l.price;if(1===l.amount)i=t.items.filter((function(t){return t.id!==e.id}));else{var u=Object(x.a)(Object(x.a)({},l),{},{amount:l.amount-1});(i=Object(O.a)(t.items))[s]=u}return{items:i,totalAmount:d}}return _},C=function(t){var e=Object(o.useReducer)(f,_),n=Object(r.a)(e,2),c=n[0],a=n[1],i={items:c.items,totalAmount:c.totalAmount,addItem:function(t){a({type:"ADD",item:t})},removeItem:function(t){a({type:"REMOVE",id:t})}};return Object(d.jsx)(m.Provider,{value:i,children:t.children})},v=n(4),g=n.n(v),N=function(t){var e="$".concat(t.price.toFixed(2));return console.log(t),Object(d.jsxs)("li",{className:g.a["cart-item"],children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h2",{children:t.name}),Object(d.jsxs)("div",{className:g.a.summary,children:[Object(d.jsx)("span",{className:g.a.price,children:e}),Object(d.jsxs)("span",{className:g.a.amount,children:["x ",t.amount]})]})]}),Object(d.jsxs)("div",{className:g.a.actions,children:[Object(d.jsx)("button",{onClick:t.onRemove,children:"\u2212"}),Object(d.jsx)("button",{onClick:t.onAdd,children:"+"})]})]})},I=n(7),k=n.n(I),A=n(12),E=n.n(A);var H=function(t){return Object(d.jsx)(d.Fragment,{children:t.isCartOpen&&a.a.createPortal(Object(d.jsx)("div",{className:E.a.backdrop,onClick:t.onhandleCartCloseClick,children:Object(d.jsx)("div",{className:E.a.modal,children:t.children})}),document.getElementById("modal"))})},M=function(t){var e=Object(o.useContext)(m);console.log("$".concat(e.totalAMount," is here"));var n=e.items.length>0,c=function(t){e.addItem(Object(x.a)(Object(x.a)({},t),{},{amount:1}))},a=function(t){e.removeItem(t)},r=Object(d.jsx)("ul",{className:k.a["cart-items"],children:e.items.map((function(t){return Object(d.jsx)(N,{price:t.price,name:t.name,amount:t.amount,onAdd:c.bind(null,t),onRemove:a.bind(null,t.id)},t.id)}))});return Object(d.jsxs)(H,{onhandleCartCloseClick:t.handleCartCloseClick,isCartOpen:t.cartOpen,children:[r,!n&&Object(d.jsx)("h4",{children:"Your Cart is Empty"}),Object(d.jsxs)("div",{className:k.a.actions,children:[Object(d.jsx)("button",{onClick:t.handleCartCloseClick,className:k.a["button--alt"],children:"Close"}),n&&Object(d.jsx)("button",{className:k.a.button,children:"Order"})]})]})},y=n(8),F=n.n(y),w=n(15),P=n.n(w),R=n(16),B=n.n(R),S=i.a.forwardRef((function(t,e){return Object(d.jsxs)("div",{className:B.a.input,children:[Object(d.jsx)("label",{htmlFor:t.input.id,children:t.label}),Object(d.jsx)("input",Object(x.a)({ref:e},t.input))]})})),D=function(t){var e=i.a.useState(!0),n=Object(r.a)(e,2),c=n[0],a=n[1],s=Object(o.useRef)();return Object(d.jsxs)("form",{className:P.a.form,onSubmit:function(e){e.preventDefault();var n=s.current.value,c=+n;0===n.trim().length||c<1||c>5?a(!1):(console.log("".concat(t," here")),t.onAddToCart(c))},children:[Object(d.jsx)(S,{ref:s,label:"amount",input:{id:"amount_"+t.id,type:"number",min:"1",max:"5",step:"1",defaultValue:1}}),Object(d.jsx)("button",{children:"+ Add"}),!c&&Object(d.jsx)("p",{children:"Please enter a valid amount(1-5)."})]})},J=function(t){var e=Object(o.useContext)(m),n="$".concat(t.products.price.toFixed(2));return Object(d.jsxs)("li",{className:F.a.product,children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{className:F.a.image,src:t.products.image}),Object(d.jsx)("h3",{children:t.products.title}),Object(d.jsx)("div",{className:F.a.description,children:t.products.description}),Object(d.jsx)("div",{className:F.a.price,children:n})]}),Object(d.jsx)(D,{id:t.id,onAddToCart:function(n){console.log(n),e.addItem({id:t.products.id,name:t.products.title,amount:n,price:t.products.price}),console.log(e)}})]})},T=n(17),V=n.n(T),$=function(t){return Object(d.jsx)("div",{className:V.a.card,children:t.children})},z=n(18),G=n.n(z),U=function(){var t=Object(o.useState)([]),e=Object(r.a)(t,2),n=e[0],c=e[1];Object(o.useEffect)((function(){fetch("https://fakestoreapi.com/products").then((function(t){return t.json()})).then((function(t){return c(t)})).catch((function(t){return console.log(t)}))}),[]);var a=n.map((function(t){return Object(d.jsx)("ul",{id:t.id,className:G.a.productbox,children:Object(d.jsx)(J,{id:t.id,products:t})},t.id)}));return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)($,{children:[" ",a]})})};var W=function(){var t=i.a.useState(!1),e=Object(r.a)(t,2),n=e[0],c=e[1],a=function(){console.log("hello"),c(!0)};return Object(d.jsxs)(C,{children:[Object(d.jsx)(h,{handleCartOpenClick:a}),Object(d.jsx)(U,{}),Object(d.jsx)(M,{cartOpen:n,handleCartOpenClick:a,handleCartCloseClick:function(){c(!1)}})]})};a.a.render(Object(d.jsx)(W,{}),document.getElementById("root"))}],[[25,1,2]]]);
//# sourceMappingURL=main.e6317992.chunk.js.map