{"version":3,"sources":["store/CartContext.js","Cart/CartItem.module.css","Layout/Button.module.css","Cart/Cart.module.css","UI/Modal.module.css","Layout/Header.module.css","Cart/cartIcon.js","Layout/HeaderCartButton.js","Layout/Header.js","store/CartProvider.js","Cart/CartItem.js","UI/Modal.js","Cart/Cart.js","App.js","index.js"],"names":["CartContext","React","createContext","items","totalAMount","addItem","item","removeItem","id","module","exports","CartIcon","xmlns","viewBox","fill","d","HeaderCartButton","props","context","useContext","console","log","numberOfCartItems","reduce","curNumber","amount","className","classes","button","onClick","onhandleCartOpenClick","icon","badge","totalAmount","toFixed","Header","header","handleCartOpenClick","defaultCartState","cartReducer","state","action","type","updatedItems","updatedTotalAmount","price","existingCartItemIndex","findIndex","existingCartItem","updatedItem","concat","existingItem","filter","CartProvider","useReducer","cartState","dispatchCartAction","cartContext","Provider","value","children","CartItem","name","summary","actions","onRemove","onAdd","Modal","isCartOpen","ReactDOM","createPortal","backdrop","onhandleCartCloseClick","modal","document","getElementById","Cart","hasItems","length","cartItemAddHandler","cartItemRemoveHandler","cartItems","map","bind","handleCartCloseClick","cartOpen","Products","lazy","Promise","resolve","setTimeout","App","useState","setCartOpen","Suspense","fallback","render"],"mappings":"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","file":"static/js/main.eb47f97b.chunk.js","sourcesContent":["import React, {createContext} from \"react\";\n\n\nconst CartContext = React.createContext({\n    items : [],\n    totalAMount : 0,\n    addItem: (item) => {} ,\n    removeItem : (id) => {}\n})\n\n\nexport default CartContext;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-item\":\"CartItem_cart-item__2u4JS\",\"summary\":\"CartItem_summary__gcjx4\",\"price\":\"CartItem_price__2qWHD\",\"amount\":\"CartItem_amount__2n0Ec\",\"actions\":\"CartItem_actions__36HEF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1EsHN\",\"icon\":\"Button_icon__3WTIB\",\"badge\":\"Button_badge__GGZrW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cart-items\":\"Cart_cart-items__2RLMU\",\"total\":\"Cart_total__cUIC0\",\"actions\":\"Cart_actions__Q-Bd7\",\"button--alt\":\"Cart_button--alt__382n2\",\"button\":\"Cart_button__1hvH1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__2hoZ6\",\"modal\":\"Modal_modal__1PLhA\",\"slide-down\":\"Modal_slide-down__2DOh_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__22S0F\"};","const CartIcon = () => {\n    return (\n      <svg\n        xmlns='http://www.w3.org/2000/svg'\n        viewBox='0 0 20 20'\n        fill='currentColor'\n      >\n        <path d='M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z' />\n      </svg>\n    );\n  };\n  \n  export default CartIcon;","import React from \"react\";\nimport classes from \"./Button.module.css\";\nimport CartIcon from \"../Cart/cartIcon.js\";\nimport CartContext from \"../store/CartContext\";\n\nexport default function HeaderCartButton(props) {\n  const context = React.useContext(CartContext);\n  console.log(`here ${context.items}`);\n  const numberOfCartItems = \n  \n  context.items.reduce((curNumber, item) => \n    curNumber + item.amount\n  , 0);\n  return (\n    <button className={classes.button} onClick={props.onhandleCartOpenClick}>\n      <span className={classes.icon}>\n        <CartIcon />\n      </span>\n      <span>cart</span>\n      <span className={classes.badge}>{numberOfCartItems}</span>\n      <span className={classes.badge}>${context.totalAmount.toFixed(2)}</span>\n    </button>\n  );\n}\n","import React from 'react';\n\nimport Button from \"./HeaderCartButton\"\nimport classes from \"./Header.module.css\";\nimport CartContext from '../store/CartContext';\n\n\nexport const Header = (props) => {\n    console.log(props)\n   const context = React.useContext(CartContext)\n   console.log(context)\n    return (\n        <>\n        <header className={classes.header}>\n            <h1>React Cart</h1>\n            <Button onhandleCartOpenClick={props.handleCartOpenClick}/>\n        </header>\n     \n            \n        </>\n    )\n}\n","import { useReducer } from 'react';\n\nimport CartContext from './CartContext';\n\nconst defaultCartState = {\n  items: [],\n  totalAmount: 0\n};\n\nconst cartReducer = (state, action) => {\n\n  \n  if (action.type === 'ADD') {\n    const updatedTotalAmount =\n      state.totalAmount + action.item.price * action.item.amount;\n\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.item.id\n    );\n    const existingCartItem = state.items[existingCartItemIndex];\n    let updatedItems;\n\n    if (existingCartItem) {\n      const updatedItem = {\n        ...existingCartItem,\n        amount: existingCartItem.amount + action.item.amount,\n      };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    } else {\n      updatedItems = state.items.concat(action.item);\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount,\n    };\n  }\n  if (action.type === 'REMOVE') {\n    const existingCartItemIndex = state.items.findIndex(\n      (item) => item.id === action.id\n    );\n    const existingItem = state.items[existingCartItemIndex];\n    const updatedTotalAmount = state.totalAmount - existingItem.price;\n    let updatedItems;\n    if (existingItem.amount === 1) {\n      updatedItems = state.items.filter(item => item.id !== action.id);\n    } else {\n      const updatedItem = { ...existingItem, amount: existingItem.amount - 1 };\n      updatedItems = [...state.items];\n      updatedItems[existingCartItemIndex] = updatedItem;\n    }\n\n    return {\n      items: updatedItems,\n      totalAmount: updatedTotalAmount\n    };\n  }\n\n  return defaultCartState;\n};\n\nconst CartProvider = (props) => {\n  const [cartState, dispatchCartAction] = useReducer(cartReducer, defaultCartState);\n\n  const addItemToCartHandler = (item) => {\n    dispatchCartAction({type: 'ADD', item: item});\n  };\n\n  const removeItemFromCartHandler = (id) => {\n    dispatchCartAction({type: 'REMOVE', id: id});\n  };\n\n  const cartContext = {\n    items: cartState.items,\n    totalAmount: cartState.totalAmount,\n    addItem: addItemToCartHandler,\n    removeItem: removeItemFromCartHandler,\n  };\n\n  return (\n    <CartContext.Provider value={cartContext}>\n      {props.children}\n    </CartContext.Provider>\n  );\n};\n\nexport default CartProvider;","import classes from './CartItem.module.css';\n\nconst CartItem = (props) => {\n  const price = `$${props.price.toFixed(2)}`;\n  console.log(props)\n\n  return (\n    <li className={classes['cart-item']}>\n      <div>\n        <h2>{props.name}</h2>\n        <div className={classes.summary}>\n          <span className={classes.price}>{price}</span>\n          <span className={classes.amount}>x {props.amount}</span>\n        </div>\n      </div>\n      <div className={classes.actions}>\n        <button onClick={props.onRemove}>−</button>\n        <button onClick={props.onAdd}>+</button>\n      </div>\n    </li>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\"\nimport classes from \"./Modal.module.css\";\n\nfunction Modal(props) {\n  \n  return (\n    <>\n      {props.isCartOpen && (\n        ReactDOM.createPortal(<div className={classes.backdrop} onClick={props.onhandleCartCloseClick}>\n          <div className={classes.modal}>{props.children}</div>\n        </div>,document.getElementById('modal'))\n      )}\n    </>\n  );\n}\n\nexport default Modal;\n","import React, { useContext } from \"react\";\nimport CartContext from \"../store/CartContext\";\nimport CartItem from \"./CartItem\";\nimport classes from \"./Cart.module.css\";\nimport Modal from \"../UI/Modal\";\n\nexport const Cart = (props) => {\n  const context = useContext(CartContext);\n  console.log(`$${context.totalAMount} is here`)\n\n  // const totalAmount = `$${context.totalAMount.toFixed(2)}`;\n\n  const hasItems = context.items.length > 0;\n\n  const cartItemAddHandler = (item) => {\n    context.addItem({...item,amount : 1})\n  };\n\n  const cartItemRemoveHandler = (id) => {\n    context.removeItem(id)\n  };\n\n  const cartItems = (\n    <ul className={classes[\"cart-items\"]}>\n      {context.items.map((item) => (\n        <CartItem\n          key={item.id}\n          price={item.price}\n          name={item.name}\n          amount={item.amount}\n          onAdd={cartItemAddHandler.bind(null,item)}\n          onRemove={cartItemRemoveHandler.bind(null,item.id)}\n        />\n      ))}\n    </ul>\n  );\n\n  return (\n    <Modal\n      onhandleCartCloseClick={props.handleCartCloseClick}\n      isCartOpen={props.cartOpen}\n    >\n      <h2>Checkout Modal</h2>\n      {cartItems}\n      {!hasItems && <h4>Your Cart is Empty</h4>}\n      {/* <div className={classes.total}>\n        <span>Total Amount</span>\n        <span>{totalAmount}</span>\n      </div> */}\n      <div className={classes.actions}>\n        <button\n          onClick={props.handleCartCloseClick}\n          className={classes[\"button--alt\"]}\n        >\n          Close\n        </button>\n        {hasItems && <button className={classes.button}>Order</button>}\n      </div>\n    </Modal>\n  );\n};\n","import { Header } from \"./Layout/Header\";\nimport CartProvider from \"./store/CartProvider\";\nimport { Cart } from \"./Cart/Cart\";\n\n// import Products  from \"./Products/Products\";\nimport React from \"react\";\n\n\nconst Products = React.lazy(()=>{\n  const product = new Promise((resolve) => {\n    setTimeout(() => {\n      return resolve(import(\"./Products/Products\"))\n    }, 3000)\n  })\n  return product;\n})\n\n\nfunction App() {\n  const [cartOpen, setCartOpen] = React.useState(false);\n\n  const handleCartCloseClick = () => {\n    setCartOpen(false);\n  };\n\n  const handleCartOpenClick = () => {\n    setCartOpen(true);\n  };\n\n  return (\n    <CartProvider>\n      <Header handleCartOpenClick={handleCartOpenClick}/>\n\n      <React.Suspense fallback={<h1><br/>plz wait products are loading!</h1>}>\n      <Products />\n\n      </React.Suspense>\n\n      \n      <Cart\n        cartOpen={cartOpen}\n        handleCartOpenClick={handleCartOpenClick}\n        handleCartCloseClick={handleCartCloseClick}\n      />\n    </CartProvider>\n  );\n}\n\nexport default App;\n\n\n\n","import ReactDOM from 'react-dom';\n\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}